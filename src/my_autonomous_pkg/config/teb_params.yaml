controller_server:
  ros__parameters:
    use_sim_time: True
    # 여기가 핵심: 컨트롤러로 TEB를 쓰겠다고 선언
    controller_plugins: ["FollowPath"]
    FollowPath:
      plugin: "teb_local_planner::TebLocalPlannerROS"

    # TEB 세부 설정
    FollowPath:
      min_turning_radius: 2.0  # Hybrid A*와 맞출 것!
      max_vel_x: 0.5
      max_vel_x_backwards: 0.2 # 후진 속도 허용
      acc_lim_x: 0.1
      acc_lim_theta: 0.1
      
      # 중요: Global Path를 잘 따라가도록 가중치 설정
      weight_viapoint: 10.0
      
      # 로봇 크기 (Footprint)
      footprint_model:
        type: "polygon"
        vertices: [[-0.5, -0.3], [-0.5, 0.3], [0.5, 0.3], [0.5, -0.3]]

# (참고) nav2의 다른 설정들도 필요하지만, 
# 보통 nav2_bringup 패키지의 기본 yaml을 복사해서 수정하는 것이 좋습니다.